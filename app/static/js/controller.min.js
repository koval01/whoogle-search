const setupSearchLayout=()=>{const a=document.getElementById("search-bar"),b=document.getElementById("search-submit"),c=[37,38,39,40];let d=a.value;a.focus(),a.select(),a.addEventListener("keyup",function(e){13===e.keyCode?(e.preventDefault(),b.click()):a.value!==d&&!c.includes(e.keyCode)&&(d=a.value,handleUserInput())})},setupConfigLayout=()=>{const a=document.getElementById("config-collapsible");a.addEventListener("click",function(){this.classList.toggle("active");let a=this.nextElementSibling;a.style.maxHeight=a.style.maxHeight?null:"400px",a.classList.toggle("open")})},loadConfig=a=>{a.preventDefault();let b=prompt("Enter name of config:");if(!b)return void alert("Must specify a name for the config to load");let c=new XMLHttpRequest;c.open("PUT","config?name="+b+".conf"),c.onload=function(){return 4===c.readyState&&200!==c.status?void alert("Error loading Whoogle config"):void location.reload(!0)},c.send()},saveConfig=a=>{a.preventDefault();let b=prompt("Enter name for this config:");if(!b)return void alert("Must specify a name for the config to save");let c=document.getElementById("config-form");c.action="config?name="+b+".conf",c.submit()};document.addEventListener("DOMContentLoaded",function(){setTimeout(function(){document.getElementById("main").style.display="block"},100),setupSearchLayout(),setupConfigLayout(),document.getElementById("config-load").addEventListener("click",loadConfig),document.getElementById("config-save").addEventListener("click",saveConfig),setTimeout(function(){document.getElementById("search-bar").focus()},250)});