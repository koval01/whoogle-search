const setupSearchLayout=()=>{const a=document.getElementById("search-bar"),b=document.getElementById("search-submit"),e=[37,38,39,40];let d=a.value;a.focus();a.select();a.addEventListener("keyup",function(c){13===c.keyCode?(c.preventDefault(),b.click()):a.value===d||e.includes(c.keyCode)||(d=a.value,handleUserInput())})},setupConfigLayout=()=>{document.getElementById("config-collapsible").addEventListener("click",function(){this.classList.toggle("active");let a=this.nextElementSibling;a.style.maxHeight=
a.style.maxHeight?null:"400px";a.classList.toggle("open")})},loadConfig=a=>{a.preventDefault();if(a=prompt("Enter name of config:")){var b=new XMLHttpRequest;b.open("PUT","config?name="+a+".conf");b.onload=function(){4===b.readyState&&200!==b.status?alert("Error loading Whoogle config"):location.reload(!0)};b.send()}else alert("Must specify a name for the config to load")},saveConfig=a=>{a.preventDefault();if(a=prompt("Enter name for this config:")){var b=document.getElementById("config-form");b.action=
"config?name="+a+".conf";b.submit()}else alert("Must specify a name for the config to save")},hideConfig=()=>{let a=document.getElementById("config-collapsible"),b=document.getElementById("config-content");a.classList.remove("active");b.classList.remove("open");b.style.maxHeight=""};
document.addEventListener("DOMContentLoaded",function(){setTimeout(function(){document.getElementById("main").style.display="block"},100);setupSearchLayout();setupConfigLayout();document.getElementById("config-load").addEventListener("click",loadConfig);document.getElementById("config-save").addEventListener("click",saveConfig);setTimeout(function(){document.getElementById("search-bar").focus()},250);document.getElementById("search-bar").onfocus=a=>{hideConfig()}});
